params {
    samplesheet = 'path/to/your/samplesheet.csv'
    outdir = 'results'
}

process {
    publishDir = [
        path: { "${params.outdir}/${task.process.tokenize(':')[-1].toLowerCase()}" },
        mode: 'copy',
        saveAs: { filename -> filename.equals('versions.yml') ? null : filename }
    ]
}

profiles {
    docker {
        docker.enabled = true
        docker.runOptions = "--platform linux/amd64"
    }
    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
    }
    conda {
        conda.enabled = true
    }
}

